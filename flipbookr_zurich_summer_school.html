<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Flipbooks</title>
    <meta charset="utf-8" />
    <meta name="author" content="Evangeline ‘Gina’ Reynolds" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">








class: right, top, inverse
background-image: url(https://images.unsplash.com/photo-1541697418880-71a2ccd305a7?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1050&amp;q=80)
background-size: cover

# .Large[Flipbooks &amp; {flipbookr}]

## Evangeline "Gina" Reynolds

#### Zurich Summer School for Women in Political Methodology

#### November 27, 16:45

#### github.com/EvaMaeRey/flipbookr
???

Title slide


---
name: me
class: bottom, right
background-image: url(figures/me_bridge_woods.jpg)
background-position: 5% 5%, 8% 60%
background-size: 10%, 30%

### teach: West Point
### r community: Denver RLadies -&gt; West Point RLadies?!
### twitter: @EvaMaeRey
### github: github.com/EvaMaeRey


---
name: traditional_flipbooks
background-image: url(figures/dog_ball.gif)
background-size: contain


???

Just as traditional flipbooks let users observe the evolution of a scene, by leafing through it's pages at their own pace ...

---
background-image: url(figures/racing_bar_flipbook.gif)
background-size: contain


???

... new *code* flipbooks, allow users to observe the evolution of a code pipeline alongside the resulting output.


---

# Flipbooks...

--

## present code and output


## side-by-side


## and step-by-step

---

## like a *stop-motion movie*
--
, based on someone actually building a code pipeline
--
, checking intermediate output states as they go


--



![](https://media.giphy.com/media/3mKBXLpYeLzUY/giphy.gif)&lt;!-- --&gt;

???

As flipbook builders, we choreograph a scene, and mostly stay out of the way. 
Try to make the action in the output tell the story, and go light on narrative (comments).


---



# 2018: early flipbooks

&lt;img src="figures/garrick_proto_flipbook.png" width="70%" /&gt;


---

# 2018: early flipbooks

&lt;img src="figures/gina_proto_flipbook.png" width="70%" /&gt;

---

# 2018: early flipbooks

&lt;img src="figures/emi_proto_flipbook.png" width="70%" /&gt;

@grrrck
@evamaerey
@statsgen

--

Hand-crafted, 
Artisanal




???

In 2018, the proto flipbook emerged on the Xaringan platform.  But each frame of the flipbook was individually crafted, which was kind of painstaking.  Garrick Aden-Buie created the first one I know of.  I created another one using SLOWggplot2 --- a totally incremental workflow.  Emi also embraced SLOWggplot2, styled the flipbook with her beautiful kunoichi and ninjutsu .css files and later partially automated flipbooking.







---
![](figures/do_you_want_to_build_snowman.gif)




# Do you want to build "flipbooks" together?


???

I wanted to collaborate with these brilliant like-minded people.  And they were game...  (I named  is exactly when flipbooks got their name too!)


---
background-image: url(figures/moth_circling.jpg)
background-size: cover

???

We were kind of all circling around the idea - "flipbooks" had huge potential.  They could deliver a lot of insight about code behavior to their consumers. 




---

# Move to automate


## *Automatically* parsing a block of input code 

--

## *Automatically* reconstructing code into partial builds

--

## *Automatically* delivered on a presentation platform (here Xaringan)


???

Able to do this in large part because of the flexibility of knitr and rmarkdown documents!!!  Garrick and Emi are super expert and knew about some of the knitr secrets that few people know -- at that time the unexported function!  I love Emi's blogpost about this ...    



---
background-image: url(figures/volt_meter_thomas_kelley_unsplash.jpg)
background-size: cover




???

But to realize the full potential, creators needed to be unburdened from copy and paste. Flipbooks were a pain to build manually.  If you made a change in your vision of the overall pipeline, you might have to scrap all your work and start the whole annoying copy paste process again.  


---

# Do I need to use any 'weird tricks' to writing code to be 'flipbooked'?

--

# Yup.


---


## Aim for incremental, sequential workflow, where feedback is given at each step.

--

- ### Piped workflow

  - %&gt;%
  - %&gt;% + .
  - %$%
  


--

- ### right assignment -&gt; instead of = or &lt;- makes it easier to display output


--
  
- ### ggplot pipelines - but SLOWggplot is recommended


---
background-image: url(figures/upsplash_yancy_min_snail.jpg)
background-size: cover


# **S**LOWggplot2's 

--
# **L**iterally 

--
# **O**nly 

--
# **W**onderful  &lt;br&gt; (or **W**ickham's  &lt;br&gt; or **W**ayfairing)

--
# **ggplot2**


???

For the demo, I'm going to use a dialect of ggplot2.  Slowggplot2 is just ggplot.  It is fully supported and native.  


---
background-image: url(figures/upsplash_yancy_min_snail.jpg)
background-size: cover

class: middle

# .large[incrementalism]
--

# .large[feedback]





---
background-image: url(figures/upsplash_yancy_min_snail.jpg)
background-size: cover

class: middle

# .large[one ggplot &lt;br&gt; statement]
--

# .large[per decision]



---


# from some ggplot documentation

# `+` is the key to constructing sophisticated ggplot2 graphics. It allows you to start simple, then get more and more complex, **checking your work at each step.**





---

count: false


```r
*ggplot(data = cars,
*      mapping = aes(x = speed,
*                    y = dist,
*                    col = dist))
```

---
count: false


```r
ggplot(data = cars,
       mapping = aes(x = speed,
                     y = dist,
                     col = dist)) +
* geom_point()
```

---
count: false


```r
ggplot(data = cars,
       mapping = aes(x = speed,
                     y = dist,
                     col = dist)) +
  geom_point() +
* labs(x = "Speed (mph)",
*      y = "Distance (feet)",
*      title = "Speed v. Stopping ...")
```

&lt;style&gt;
.panel1-fast_ggplot-auto {
  color: black;
  width: 99%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-fast_ggplot-auto {
  color: black;
  width: NA%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-fast_ggplot-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;










---

count: false


```r
*cars
```

---
count: false


```r
cars %&gt;%
* ggplot()
```

---
count: false


```r
cars %&gt;%
  ggplot() +
* aes(x = speed)
```

---
count: false


```r
cars %&gt;%
  ggplot() +
  aes(x = speed) +
* aes(y = dist)
```

---
count: false


```r
cars %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
* geom_point()
```

---
count: false


```r
cars %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_point() +
* aes(color = dist)
```

---
count: false


```r
cars %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_point() +
  aes(color = dist) +
* labs(x = "Speed (mph)")
```

---
count: false


```r
cars %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_point() +
  aes(color = dist) +
  labs(x = "Speed (mph)") +
* labs(y = "Distance (feet)")
```

---
count: false


```r
cars %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_point() +
  aes(color = dist) +
  labs(x = "Speed (mph)") +
  labs(y = "Distance (feet)") +
* labs(title = "Speed v. Stopping ...")
```

&lt;style&gt;
.panel1-slow-auto {
  color: black;
  width: 99%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-slow-auto {
  color: black;
  width: NA%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-slow-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;











---

Remainder of talk Overview:

1. Let's build flipbooks
2. Some additional modes
3. Why Flipbooks?

--

Background for Demo:

- R, Rmarkdown, Rstudio
- tidyverse + ggplot2


---


# With {flipbookr}

# You can build a flipbook five minutes...

--

# Let's do it!

--

# [Hans Rosling's 200 Countries, 200 Years, 4 Minutes - The Joy of Stats - BBC Four](https://www.youtube.com/watch?v=jbkSRLYSojo)


https://www.youtube.com/watch?v=jbkSRLYSojo

---

![](figures/hans_y_axis.png)

---

![](figures/hans_x_axis.png)
---

![](figures/hans_points_2002.png)


---

![](figures/hans_color.png)

---

![](figures/hans_size.png)

---

# "Having the data is not enough.  You have to show the data in ways that people enjoy and understand" - Hans Rosling

---

# "Having the *code* is not enough.  You have to show the *code* in ways that people enjoy and understand"



---


---



---

[Easy Flipbook Recipes](https://evamaerey.github.io/flipbooks/flipbook_recipes#1)

--

Or, 'A Minimal Flipbook' template RStudio -&gt; File -&gt; New File -&gt; Rmarkdown -&gt; A Minimal Flipbook

---


&lt;iframe src="https://evamaerey.github.io/flipbooks/flipbook_recipes#1" width="504" height="400px"&gt;&lt;/iframe&gt;


???

Today, you can build a flipbook in 5 minutes with the new package flipbookr.  

During this talk I'm going to show you how you can build a flipbook in five minutes using the flipbookr package and the Rmarkdown slide show tool, Xaringan.

I'll show you three modalities for *revealing* your code incrementally (break_type)

And three modalities for displaying this evolution. (display_type)

Then, I'll make you aware of some of the diversity of use cases where flipbooking may be used.

In the second part of the talk, I'll try to articulate just why I think this tool is valuable as a new communication device, and valuable to add to your tool box.


---

# More {flipbookr} modes

---









---
class: center, middle, inverse

# break_type = "non_seq"


---
class: inverse



```markdown
---

`r chunk_reveal(chunk_name = "my_cars", break_type = "non_seq")`
``` 


````markdown
```{r my_cars, include = FALSE}
cars %&gt;%
  filter(speed &gt; 4) %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) + #BREAK
  geom_point(
    alpha = .3, #BREAK2
    color = "blue" #BREAK3
    ) + #BREAK
  aes(size = speed) #BREAK
```
````


---




count: false
 

.panel1-cars-non_seq[

```r
cars %&gt;%
  filter(speed &gt; 4) %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_point(
    ) +
  aes(size = speed)
```
]
 
.panel2-cars-non_seq[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/cars_non_seq_01_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-cars-non_seq[

```r
cars %&gt;%
  filter(speed &gt; 4) %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_point(
*   alpha = .3,
    ) +
  aes(size = speed)
```
]
 
.panel2-cars-non_seq[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/cars_non_seq_02_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-cars-non_seq[

```r
cars %&gt;%
  filter(speed &gt; 4) %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_point(
    alpha = .3,
*   color = "blue"
    ) +
  aes(size = speed)
```
]
 
.panel2-cars-non_seq[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/cars_non_seq_03_output-1.png" width="504" /&gt;
]

&lt;style&gt;
.panel1-cars-non_seq {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-cars-non_seq {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-cars-non_seq {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;








---
class: center, middle, inverse

# break_type = "rotate"


---
class: inverse



```markdown
---

`r chunk_reveal(chunk_name = "scales", break_type = "rotate")`
``` 


````markdown
```{r scales, eval = FALSE, echo = F}
cars %&gt;%
  filter(speed &gt; 4) %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) + 
  geom_point() + 
  scale_x_log10() #ROTATE
```
````


---




count: false
 

.panel1-scales-rotate[

```r
cars %&gt;%
  filter(speed &gt; 4) %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_point() +
  aes(color = dist) +
* scale_x_log10()
```
]
 
.panel2-scales-rotate[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/scales_rotate_01_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-scales-rotate[

```r
cars %&gt;%
  filter(speed &gt; 4) %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_point() +
  aes(color = dist) +
* scale_y_reverse()
```
]
 
.panel2-scales-rotate[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/scales_rotate_02_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-scales-rotate[

```r
cars %&gt;%
  filter(speed &gt; 4) %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_point() +
  aes(color = dist) +
* scale_color_viridis_c()
```
]
 
.panel2-scales-rotate[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/scales_rotate_03_output-1.png" width="504" /&gt;
]

&lt;style&gt;
.panel1-scales-rotate {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-scales-rotate {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-scales-rotate {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;









---
class: center, middle, inverse

# `break_type = 5`
## entering the multiverse


---
class: inverse



```markdown
---

`r chunk_reveal(chunk_name = "my_cars", break_type = 7)`
``` 


````markdown
```{r cars_multi, include = FALSE}
cars %&gt;% 
  sample_frac(
    size = 1, replace = T
    ) %&gt;%      
  ggplot() +              
  aes(x = speed) +
  aes(y = dist) +
  geom_count(
    alpha = .3,
    color = "blue" 
    ) + 
  geom_smooth(
    method = lm, 
    se = FALSE
    ) +
  coord_cartesian(
    xlim = c(0,25),
    ylim = c(0,125)) 
```
````




---

count: false
 

.panel1-cars_multi-7[

```r
cars %&gt;%
  sample_frac(
    size = 1, replace = T
    ) %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_count(
    alpha = .3,
    color = "blue"
    ) +
  geom_smooth(
    method = lm,
    se = FALSE
    ) +
  coord_cartesian(
    xlim = c(0,25),
    ylim = c(0,125)) +
  scale_size(breaks = 1:6,
             limits = c(1,6))
```
]
 
.panel2-cars_multi-7[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/cars_multi_7_01_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-cars_multi-7[

```r
cars %&gt;%
  sample_frac(
    size = 1, replace = T
    ) %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_count(
    alpha = .3,
    color = "blue"
    ) +
  geom_smooth(
    method = lm,
    se = FALSE
    ) +
  coord_cartesian(
    xlim = c(0,25),
    ylim = c(0,125)) +
  scale_size(breaks = 1:6,
             limits = c(1,6))
```
]
 
.panel2-cars_multi-7[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/cars_multi_7_02_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-cars_multi-7[

```r
cars %&gt;%
  sample_frac(
    size = 1, replace = T
    ) %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_count(
    alpha = .3,
    color = "blue"
    ) +
  geom_smooth(
    method = lm,
    se = FALSE
    ) +
  coord_cartesian(
    xlim = c(0,25),
    ylim = c(0,125)) +
  scale_size(breaks = 1:6,
             limits = c(1,6))
```
]
 
.panel2-cars_multi-7[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/cars_multi_7_03_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-cars_multi-7[

```r
cars %&gt;%
  sample_frac(
    size = 1, replace = T
    ) %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_count(
    alpha = .3,
    color = "blue"
    ) +
  geom_smooth(
    method = lm,
    se = FALSE
    ) +
  coord_cartesian(
    xlim = c(0,25),
    ylim = c(0,125)) +
  scale_size(breaks = 1:6,
             limits = c(1,6))
```
]
 
.panel2-cars_multi-7[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/cars_multi_7_04_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-cars_multi-7[

```r
cars %&gt;%
  sample_frac(
    size = 1, replace = T
    ) %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_count(
    alpha = .3,
    color = "blue"
    ) +
  geom_smooth(
    method = lm,
    se = FALSE
    ) +
  coord_cartesian(
    xlim = c(0,25),
    ylim = c(0,125)) +
  scale_size(breaks = 1:6,
             limits = c(1,6))
```
]
 
.panel2-cars_multi-7[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/cars_multi_7_05_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-cars_multi-7[

```r
cars %&gt;%
  sample_frac(
    size = 1, replace = T
    ) %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_count(
    alpha = .3,
    color = "blue"
    ) +
  geom_smooth(
    method = lm,
    se = FALSE
    ) +
  coord_cartesian(
    xlim = c(0,25),
    ylim = c(0,125)) +
  scale_size(breaks = 1:6,
             limits = c(1,6))
```
]
 
.panel2-cars_multi-7[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/cars_multi_7_06_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-cars_multi-7[

```r
cars %&gt;%
  sample_frac(
    size = 1, replace = T
    ) %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_count(
    alpha = .3,
    color = "blue"
    ) +
  geom_smooth(
    method = lm,
    se = FALSE
    ) +
  coord_cartesian(
    xlim = c(0,25),
    ylim = c(0,125)) +
  scale_size(breaks = 1:6,
             limits = c(1,6))
```
]
 
.panel2-cars_multi-7[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/cars_multi_7_07_output-1.png" width="504" /&gt;
]

&lt;style&gt;
.panel1-cars_multi-7 {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-cars_multi-7 {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-cars_multi-7 {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;






---
class: center, middle, inverse

# display_type = "output"


---
class: inverse



```markdown
---

`r chunk_reveal("my_cars_output", display_type = "output", break_type = "user")`
``` 


````markdown
```{r my_cars_output, include = FALSE}
cars %&gt;% 
  ggplot() +
  aes(x = speed) + #BREAK
  aes(y = dist) + #BREAK
  geom_point(size = 4) + #BREAK
  aes(color = speed) #BREAK
```
````





---

count: false

&lt;img src="flipbookr_zurich_summer_school_files/figure-html/my_cars_output_user_01_output-1.png" width="1080" /&gt;

---
count: false

&lt;img src="flipbookr_zurich_summer_school_files/figure-html/my_cars_output_user_02_output-1.png" width="1080" /&gt;

---
count: false

&lt;img src="flipbookr_zurich_summer_school_files/figure-html/my_cars_output_user_03_output-1.png" width="1080" /&gt;

---
count: false

&lt;img src="flipbookr_zurich_summer_school_files/figure-html/my_cars_output_user_04_output-1.png" width="1080" /&gt;

&lt;style&gt;
.panel1-my_cars_output-user {
  color: black;
  width: 99%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-my_cars_output-user {
  color: black;
  width: NA%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-my_cars_output-user {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;






---
class: center, middle, inverse

# display_type = "code"




---
class: inverse



```markdown
---

`r chunk_reveal("my_cars_again_2", display_type = "code")`
``` 


````markdown
```{r my_cars_again_2, include = FALSE}
cars %&gt;% 
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_point(
    color = "steelblue",
    alpha = .9,
    size = 4
  ) +
  theme_minimal()
```
````



---



count: false


```r
*cars
```

---
count: false


```r
cars %&gt;%
* ggplot()
```

---
count: false


```r
cars %&gt;%
  ggplot() +
* aes(x = speed)
```

---
count: false


```r
cars %&gt;%
  ggplot() +
  aes(x = speed) +
* aes(y = dist)
```

---
count: false


```r
cars %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
* geom_point(
*   color = "steelblue",
*   alpha = .9,
*   size = 4
* )
```

---
count: false


```r
cars %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_point(
    color = "steelblue",
    alpha = .9,
    size = 4
  ) +
* theme_minimal()
```

&lt;style&gt;
.panel1-my_cars_again_2-auto {
  color: black;
  width: 99%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-my_cars_again_2-auto {
  color: black;
  width: NA%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-my_cars_again_2-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;






---




---
class: center, middle, inverse

# Telling longer stories
## Flipbooking a wrangling chunk and create an object, then a plotting chunk with the object

---
class: inverse



```markdown
---

`r chunk_reveal("wrangle")`
``` 


````markdown
```{r wrangle, include = FALSE}
cars %&gt;% 
  mutate(high_speed = 
           speed &gt; 10) %&gt;% 
  mutate(high_dist = 
           dist &gt; 20) -&gt;
cars_mod
```
````

---
class: inverse



```markdown
---

`r chunk_reveal("plot")`
``` 


````markdown
```{r plot, include = FALSE}
cars_mod %&gt;% 
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_point() + 
  geom_point(
    aes(color = high_speed,
        size = high_dist),
    alpha = .5
  ) 
```
````



---

count: false
 

.panel1-wrangle-auto[

```r
*cars
```
]
 
.panel2-wrangle-auto[

```
   speed dist
1      4    2
2      4   10
3      7    4
4      7   22
5      8   16
6      9   10
7     10   18
8     10   26
9     10   34
10    11   17
11    11   28
12    12   14
13    12   20
14    12   24
15    12   28
16    13   26
17    13   34
18    13   34
19    13   46
20    14   26
21    14   36
22    14   60
23    14   80
24    15   20
25    15   26
26    15   54
27    16   32
28    16   40
29    17   32
30    17   40
31    17   50
32    18   42
33    18   56
34    18   76
35    18   84
36    19   36
37    19   46
38    19   68
39    20   32
40    20   48
41    20   52
42    20   56
43    20   64
44    22   66
45    23   54
46    24   70
47    24   92
48    24   93
49    24  120
50    25   85
```
]

---
count: false
 

.panel1-wrangle-auto[

```r
cars %&gt;%
* mutate(high_speed =
*          speed &gt; 10)
```
]
 
.panel2-wrangle-auto[

```
   speed dist high_speed
1      4    2      FALSE
2      4   10      FALSE
3      7    4      FALSE
4      7   22      FALSE
5      8   16      FALSE
6      9   10      FALSE
7     10   18      FALSE
8     10   26      FALSE
9     10   34      FALSE
10    11   17       TRUE
11    11   28       TRUE
12    12   14       TRUE
13    12   20       TRUE
14    12   24       TRUE
15    12   28       TRUE
16    13   26       TRUE
17    13   34       TRUE
18    13   34       TRUE
19    13   46       TRUE
20    14   26       TRUE
21    14   36       TRUE
22    14   60       TRUE
23    14   80       TRUE
24    15   20       TRUE
25    15   26       TRUE
26    15   54       TRUE
27    16   32       TRUE
28    16   40       TRUE
29    17   32       TRUE
30    17   40       TRUE
31    17   50       TRUE
32    18   42       TRUE
33    18   56       TRUE
34    18   76       TRUE
35    18   84       TRUE
36    19   36       TRUE
37    19   46       TRUE
38    19   68       TRUE
39    20   32       TRUE
40    20   48       TRUE
41    20   52       TRUE
42    20   56       TRUE
43    20   64       TRUE
44    22   66       TRUE
45    23   54       TRUE
46    24   70       TRUE
47    24   92       TRUE
48    24   93       TRUE
49    24  120       TRUE
50    25   85       TRUE
```
]

---
count: false
 

.panel1-wrangle-auto[

```r
cars %&gt;%
  mutate(high_speed =
           speed &gt; 10) %&gt;%
* mutate(high_dist =
*          dist &gt; 20)
```
]
 
.panel2-wrangle-auto[

```
   speed dist high_speed high_dist
1      4    2      FALSE     FALSE
2      4   10      FALSE     FALSE
3      7    4      FALSE     FALSE
4      7   22      FALSE      TRUE
5      8   16      FALSE     FALSE
6      9   10      FALSE     FALSE
7     10   18      FALSE     FALSE
8     10   26      FALSE      TRUE
9     10   34      FALSE      TRUE
10    11   17       TRUE     FALSE
11    11   28       TRUE      TRUE
12    12   14       TRUE     FALSE
13    12   20       TRUE     FALSE
14    12   24       TRUE      TRUE
15    12   28       TRUE      TRUE
16    13   26       TRUE      TRUE
17    13   34       TRUE      TRUE
18    13   34       TRUE      TRUE
19    13   46       TRUE      TRUE
20    14   26       TRUE      TRUE
21    14   36       TRUE      TRUE
22    14   60       TRUE      TRUE
23    14   80       TRUE      TRUE
24    15   20       TRUE     FALSE
25    15   26       TRUE      TRUE
26    15   54       TRUE      TRUE
27    16   32       TRUE      TRUE
28    16   40       TRUE      TRUE
29    17   32       TRUE      TRUE
30    17   40       TRUE      TRUE
31    17   50       TRUE      TRUE
32    18   42       TRUE      TRUE
33    18   56       TRUE      TRUE
34    18   76       TRUE      TRUE
35    18   84       TRUE      TRUE
36    19   36       TRUE      TRUE
37    19   46       TRUE      TRUE
38    19   68       TRUE      TRUE
39    20   32       TRUE      TRUE
40    20   48       TRUE      TRUE
41    20   52       TRUE      TRUE
42    20   56       TRUE      TRUE
43    20   64       TRUE      TRUE
44    22   66       TRUE      TRUE
45    23   54       TRUE      TRUE
46    24   70       TRUE      TRUE
47    24   92       TRUE      TRUE
48    24   93       TRUE      TRUE
49    24  120       TRUE      TRUE
50    25   85       TRUE      TRUE
```
]

---
count: false
 

.panel1-wrangle-auto[

```r
cars %&gt;%
  mutate(high_speed =
           speed &gt; 10) %&gt;%
  mutate(high_dist =
           dist &gt; 20) -&gt;
*cars_mod
```
]
 
.panel2-wrangle-auto[

]

&lt;style&gt;
.panel1-wrangle-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-wrangle-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-wrangle-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;






---

count: false
 

.panel1-plot-auto[

```r
*cars_mod
```
]
 
.panel2-plot-auto[

```
   speed dist high_speed high_dist
1      4    2      FALSE     FALSE
2      4   10      FALSE     FALSE
3      7    4      FALSE     FALSE
4      7   22      FALSE      TRUE
5      8   16      FALSE     FALSE
6      9   10      FALSE     FALSE
7     10   18      FALSE     FALSE
8     10   26      FALSE      TRUE
9     10   34      FALSE      TRUE
10    11   17       TRUE     FALSE
11    11   28       TRUE      TRUE
12    12   14       TRUE     FALSE
13    12   20       TRUE     FALSE
14    12   24       TRUE      TRUE
15    12   28       TRUE      TRUE
16    13   26       TRUE      TRUE
17    13   34       TRUE      TRUE
18    13   34       TRUE      TRUE
19    13   46       TRUE      TRUE
20    14   26       TRUE      TRUE
21    14   36       TRUE      TRUE
22    14   60       TRUE      TRUE
23    14   80       TRUE      TRUE
24    15   20       TRUE     FALSE
25    15   26       TRUE      TRUE
26    15   54       TRUE      TRUE
27    16   32       TRUE      TRUE
28    16   40       TRUE      TRUE
29    17   32       TRUE      TRUE
30    17   40       TRUE      TRUE
31    17   50       TRUE      TRUE
32    18   42       TRUE      TRUE
33    18   56       TRUE      TRUE
34    18   76       TRUE      TRUE
35    18   84       TRUE      TRUE
36    19   36       TRUE      TRUE
37    19   46       TRUE      TRUE
38    19   68       TRUE      TRUE
39    20   32       TRUE      TRUE
40    20   48       TRUE      TRUE
41    20   52       TRUE      TRUE
42    20   56       TRUE      TRUE
43    20   64       TRUE      TRUE
44    22   66       TRUE      TRUE
45    23   54       TRUE      TRUE
46    24   70       TRUE      TRUE
47    24   92       TRUE      TRUE
48    24   93       TRUE      TRUE
49    24  120       TRUE      TRUE
50    25   85       TRUE      TRUE
```
]

---
count: false
 

.panel1-plot-auto[

```r
cars_mod %&gt;%
* ggplot()
```
]
 
.panel2-plot-auto[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/plot_auto_02_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-plot-auto[

```r
cars_mod %&gt;%
  ggplot() +
* aes(x = speed)
```
]
 
.panel2-plot-auto[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/plot_auto_03_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-plot-auto[

```r
cars_mod %&gt;%
  ggplot() +
  aes(x = speed) +
* aes(y = dist)
```
]
 
.panel2-plot-auto[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/plot_auto_04_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-plot-auto[

```r
cars_mod %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
* geom_point()
```
]
 
.panel2-plot-auto[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/plot_auto_05_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-plot-auto[

```r
cars_mod %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
  geom_point() +
* geom_point(
*   aes(color = high_speed,
*       size = high_dist),
*   alpha = .5
* )
```
]
 
.panel2-plot-auto[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/plot_auto_06_output-1.png" width="504" /&gt;
]

&lt;style&gt;
.panel1-plot-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-plot-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-plot-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;







---
class: top
background-image: url(http://www.mechanicsofsport.com/snowboarding/graphics/setup/regular-goofy.jpg)
background-size: contain





???

If you want to create an object in your flipbooks, it is most "natural" to use [right assignment](https://stat.ethz.ch/R-manual/R-devel/library/base/html/assignOps.html).

Working sequentially with a pipeline of code, you get feedback all along the way until you get to the point of assigning all of what you have done to a new object with reverse assignment.  With regular assignment in R, you don't get any feedback, so flipbooking prefers this step at the end of a pipeline, so we can enjoy all the nice feedback. So the parameter left_assign is by default set to FALSE.

---
class: center, middle, inverse

# `left_assign = TRUE`



???

But, setting the left_assign parameter to T and using regular assignment, you can still create a meaningful flipbook that gives you feedback.   When left_assign = T, the first object that is created prints at the end of the derivative code chunks. 

---
class: inverse



```markdown
---

`r chunk_reveal("cool_plot")`
``` 


````markdown
```{r cool_plot, include = FALSE}
my_plot &lt;- cars %&gt;%  
  filter(speed &gt; 
           4) %&gt;%  
  ggplot() +      
  aes(x = speed) +
  aes(y = dist) +
  geom_point()
```
````


---

count: false
 

.panel1-cool_plot-auto[

```r
*my_plot &lt;- cars

my_plot
```
]
 
.panel2-cool_plot-auto[

```
   speed dist
1      4    2
2      4   10
3      7    4
4      7   22
5      8   16
6      9   10
7     10   18
8     10   26
9     10   34
10    11   17
11    11   28
12    12   14
13    12   20
14    12   24
15    12   28
16    13   26
17    13   34
18    13   34
19    13   46
20    14   26
21    14   36
22    14   60
23    14   80
24    15   20
25    15   26
26    15   54
27    16   32
28    16   40
29    17   32
30    17   40
31    17   50
32    18   42
33    18   56
34    18   76
35    18   84
36    19   36
37    19   46
38    19   68
39    20   32
40    20   48
41    20   52
42    20   56
43    20   64
44    22   66
45    23   54
46    24   70
47    24   92
48    24   93
49    24  120
50    25   85
```
]

---
count: false
 

.panel1-cool_plot-auto[

```r
my_plot &lt;- cars %&gt;%
* filter(speed &gt;
*          4)

my_plot
```
]
 
.panel2-cool_plot-auto[

```
   speed dist
1      7    4
2      7   22
3      8   16
4      9   10
5     10   18
6     10   26
7     10   34
8     11   17
9     11   28
10    12   14
11    12   20
12    12   24
13    12   28
14    13   26
15    13   34
16    13   34
17    13   46
18    14   26
19    14   36
20    14   60
21    14   80
22    15   20
23    15   26
24    15   54
25    16   32
26    16   40
27    17   32
28    17   40
29    17   50
30    18   42
31    18   56
32    18   76
33    18   84
34    19   36
35    19   46
36    19   68
37    20   32
38    20   48
39    20   52
40    20   56
41    20   64
42    22   66
43    23   54
44    24   70
45    24   92
46    24   93
47    24  120
48    25   85
```
]

---
count: false
 

.panel1-cool_plot-auto[

```r
my_plot &lt;- cars %&gt;%
  filter(speed &gt;
           4) %&gt;%
* ggplot()

my_plot
```
]
 
.panel2-cool_plot-auto[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/cool_plot_auto_03_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-cool_plot-auto[

```r
my_plot &lt;- cars %&gt;%
  filter(speed &gt;
           4) %&gt;%
  ggplot() +
* aes(x = speed)

my_plot
```
]
 
.panel2-cool_plot-auto[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/cool_plot_auto_04_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-cool_plot-auto[

```r
my_plot &lt;- cars %&gt;%
  filter(speed &gt;
           4) %&gt;%
  ggplot() +
  aes(x = speed) +
* aes(y = dist)

my_plot
```
]
 
.panel2-cool_plot-auto[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/cool_plot_auto_05_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-cool_plot-auto[

```r
my_plot &lt;- cars %&gt;%
  filter(speed &gt;
           4) %&gt;%
  ggplot() +
  aes(x = speed) +
  aes(y = dist) +
* geom_point()

my_plot
```
]
 
.panel2-cool_plot-auto[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/cool_plot_auto_06_output-1.png" width="504" /&gt;
]

&lt;style&gt;
.panel1-cool_plot-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-cool_plot-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-cool_plot-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;









---
class: center, middle, inverse
# Use beyond the tidyverse


???

It is no surprise that Flipbooks are born in the context of the popularity of the tidyverse tools --- tools that are designed be be used in sequential pipelines and that give a satisfying amount of feedback along the way!

But base R techniques and other popular tools can certainly also be employed.

---
class: center, middle, inverse
# "chaining" by overwriting objects

---

count: false
 

.panel1-left_assign2-auto[

```r
*cars_mod &lt;- cars

cars_mod
```
]
 
.panel2-left_assign2-auto[

```
   speed dist
1      4    2
2      4   10
3      7    4
4      7   22
5      8   16
6      9   10
7     10   18
8     10   26
9     10   34
10    11   17
11    11   28
12    12   14
13    12   20
14    12   24
15    12   28
16    13   26
17    13   34
18    13   34
19    13   46
20    14   26
21    14   36
22    14   60
23    14   80
24    15   20
25    15   26
26    15   54
27    16   32
28    16   40
29    17   32
30    17   40
31    17   50
32    18   42
33    18   56
34    18   76
35    18   84
36    19   36
37    19   46
38    19   68
39    20   32
40    20   48
41    20   52
42    20   56
43    20   64
44    22   66
45    23   54
46    24   70
47    24   92
48    24   93
49    24  120
50    25   85
```
]

---
count: false
 

.panel1-left_assign2-auto[

```r
cars_mod &lt;- cars
*cars_mod$half_dist &lt;- cars$dist/2

cars_mod
```
]
 
.panel2-left_assign2-auto[

```
   speed dist half_dist
1      4    2       1.0
2      4   10       5.0
3      7    4       2.0
4      7   22      11.0
5      8   16       8.0
6      9   10       5.0
7     10   18       9.0
8     10   26      13.0
9     10   34      17.0
10    11   17       8.5
11    11   28      14.0
12    12   14       7.0
13    12   20      10.0
14    12   24      12.0
15    12   28      14.0
16    13   26      13.0
17    13   34      17.0
18    13   34      17.0
19    13   46      23.0
20    14   26      13.0
21    14   36      18.0
22    14   60      30.0
23    14   80      40.0
24    15   20      10.0
25    15   26      13.0
26    15   54      27.0
27    16   32      16.0
28    16   40      20.0
29    17   32      16.0
30    17   40      20.0
31    17   50      25.0
32    18   42      21.0
33    18   56      28.0
34    18   76      38.0
35    18   84      42.0
36    19   36      18.0
37    19   46      23.0
38    19   68      34.0
39    20   32      16.0
40    20   48      24.0
41    20   52      26.0
42    20   56      28.0
43    20   64      32.0
44    22   66      33.0
45    23   54      27.0
46    24   70      35.0
47    24   92      46.0
48    24   93      46.5
49    24  120      60.0
50    25   85      42.5
```
]

---
count: false
 

.panel1-left_assign2-auto[

```r
cars_mod &lt;- cars
cars_mod$half_dist &lt;- cars$dist/2
*names(cars_mod)[2] &lt;- "distance"

cars_mod
```
]
 
.panel2-left_assign2-auto[

```
   speed distance half_dist
1      4        2       1.0
2      4       10       5.0
3      7        4       2.0
4      7       22      11.0
5      8       16       8.0
6      9       10       5.0
7     10       18       9.0
8     10       26      13.0
9     10       34      17.0
10    11       17       8.5
11    11       28      14.0
12    12       14       7.0
13    12       20      10.0
14    12       24      12.0
15    12       28      14.0
16    13       26      13.0
17    13       34      17.0
18    13       34      17.0
19    13       46      23.0
20    14       26      13.0
21    14       36      18.0
22    14       60      30.0
23    14       80      40.0
24    15       20      10.0
25    15       26      13.0
26    15       54      27.0
27    16       32      16.0
28    16       40      20.0
29    17       32      16.0
30    17       40      20.0
31    17       50      25.0
32    18       42      21.0
33    18       56      28.0
34    18       76      38.0
35    18       84      42.0
36    19       36      18.0
37    19       46      23.0
38    19       68      34.0
39    20       32      16.0
40    20       48      24.0
41    20       52      26.0
42    20       56      28.0
43    20       64      32.0
44    22       66      33.0
45    23       54      27.0
46    24       70      35.0
47    24       92      46.0
48    24       93      46.5
49    24      120      60.0
50    25       85      42.5
```
]

---
count: false
 

.panel1-left_assign2-auto[

```r
cars_mod &lt;- cars
cars_mod$half_dist &lt;- cars$dist/2
names(cars_mod)[2] &lt;- "distance"
*cars_mod &lt;- cars_mod[
* cars_mod$distance &gt; 10,
* ]

cars_mod
```
]
 
.panel2-left_assign2-auto[

```
   speed distance half_dist
4      7       22      11.0
5      8       16       8.0
7     10       18       9.0
8     10       26      13.0
9     10       34      17.0
10    11       17       8.5
11    11       28      14.0
12    12       14       7.0
13    12       20      10.0
14    12       24      12.0
15    12       28      14.0
16    13       26      13.0
17    13       34      17.0
18    13       34      17.0
19    13       46      23.0
20    14       26      13.0
21    14       36      18.0
22    14       60      30.0
23    14       80      40.0
24    15       20      10.0
25    15       26      13.0
26    15       54      27.0
27    16       32      16.0
28    16       40      20.0
29    17       32      16.0
30    17       40      20.0
31    17       50      25.0
32    18       42      21.0
33    18       56      28.0
34    18       76      38.0
35    18       84      42.0
36    19       36      18.0
37    19       46      23.0
38    19       68      34.0
39    20       32      16.0
40    20       48      24.0
41    20       52      26.0
42    20       56      28.0
43    20       64      32.0
44    22       66      33.0
45    23       54      27.0
46    24       70      35.0
47    24       92      46.0
48    24       93      46.5
49    24      120      60.0
50    25       85      42.5
```
]

---
count: false
 

.panel1-left_assign2-auto[

```r
cars_mod &lt;- cars
cars_mod$half_dist &lt;- cars$dist/2
names(cars_mod)[2] &lt;- "distance"
cars_mod &lt;- cars_mod[
  cars_mod$distance &gt; 10,
  ]
*cars_mod &lt;- cars_mod["distance"]

cars_mod
```
]
 
.panel2-left_assign2-auto[

```
   distance
4        22
5        16
7        18
8        26
9        34
10       17
11       28
12       14
13       20
14       24
15       28
16       26
17       34
18       34
19       46
20       26
21       36
22       60
23       80
24       20
25       26
26       54
27       32
28       40
29       32
30       40
31       50
32       42
33       56
34       76
35       84
36       36
37       46
38       68
39       32
40       48
41       52
42       56
43       64
44       66
45       54
46       70
47       92
48       93
49      120
50       85
```
]

&lt;style&gt;
.panel1-left_assign2-auto {
  color: black;
  width: 49%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-left_assign2-auto {
  color: black;
  width: 49%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-left_assign2-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;







---
class: center, middle, inverse
# use brackets and logical indexing

--

## with a .[] and .[[]] syntax with the migrittr pipe - %&gt;%


???

Flipbooking can also be applied to logical indexing workflows if the steps are broken up using the %&gt;% followed by .[] and .[[]].  Thus flipbooking can also be used with base R logical indexing and with the popular `data.table` package. 


---

count: false
 

.panel1-dot_notation-auto[

```r
*cars
```
]
 
.panel2-dot_notation-auto[

```
   speed dist
1      4    2
2      4   10
3      7    4
4      7   22
5      8   16
6      9   10
7     10   18
8     10   26
9     10   34
10    11   17
11    11   28
12    12   14
13    12   20
14    12   24
15    12   28
16    13   26
17    13   34
18    13   34
19    13   46
20    14   26
21    14   36
22    14   60
23    14   80
24    15   20
25    15   26
26    15   54
27    16   32
28    16   40
29    17   32
30    17   40
31    17   50
32    18   42
33    18   56
34    18   76
35    18   84
36    19   36
37    19   46
38    19   68
39    20   32
40    20   48
41    20   52
42    20   56
43    20   64
44    22   66
45    23   54
46    24   70
47    24   92
48    24   93
49    24  120
50    25   85
```
]

---
count: false
 

.panel1-dot_notation-auto[

```r
cars %&gt;%
* .[cars$speed &gt;
*     median(cars$speed),]
```
]
 
.panel2-dot_notation-auto[

```
   speed dist
27    16   32
28    16   40
29    17   32
30    17   40
31    17   50
32    18   42
33    18   56
34    18   76
35    18   84
36    19   36
37    19   46
38    19   68
39    20   32
40    20   48
41    20   52
42    20   56
43    20   64
44    22   66
45    23   54
46    24   70
47    24   92
48    24   93
49    24  120
50    25   85
```
]

---
count: false
 

.panel1-dot_notation-auto[

```r
cars %&gt;%
  .[cars$speed &gt;
      median(cars$speed),] %&gt;%
* .["speed"]
```
]
 
.panel2-dot_notation-auto[

```
   speed
27    16
28    16
29    17
30    17
31    17
32    18
33    18
34    18
35    18
36    19
37    19
38    19
39    20
40    20
41    20
42    20
43    20
44    22
45    23
46    24
47    24
48    24
49    24
50    25
```
]

---
count: false
 

.panel1-dot_notation-auto[

```r
cars %&gt;%
  .[cars$speed &gt;
      median(cars$speed),] %&gt;%
  .["speed"] %&gt;%
* .[,1]
```
]
 
.panel2-dot_notation-auto[

```
 [1] 16 16 17 17 17 18 18 18 18 19 19 19 20 20 20 20 20 22 23 24 24 24 24 25
```
]

---
count: false
 

.panel1-dot_notation-auto[

```r
cars %&gt;%
  .[cars$speed &gt;
      median(cars$speed),] %&gt;%
  .["speed"] %&gt;%
  .[,1] -&gt;
*top_speeds
```
]
 
.panel2-dot_notation-auto[

]

&lt;style&gt;
.panel1-dot_notation-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-dot_notation-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-dot_notation-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;





---
class: inverse, middle, center

# Base R plotting

---

count: false
 

.panel1-base_r_plotting-auto[

```r
*plot(cars,
*    xlab = "Speed (mph)",
*    las = 1)
```
]
 
.panel2-base_r_plotting-auto[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/base_r_plotting_auto_01_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-base_r_plotting-auto[

```r
plot(cars,
     xlab = "Speed (mph)",
     las = 1)
*lines(lowess(cars$speed,
*            cars$dist,
*            f = 2/3,
*            iter = 3),
*     col = "red")
```
]
 
.panel2-base_r_plotting-auto[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/base_r_plotting_auto_02_output-1.png" width="504" /&gt;
]

---
count: false
 

.panel1-base_r_plotting-auto[

```r
plot(cars,
     xlab = "Speed (mph)",
     las = 1)
lines(lowess(cars$speed,
             cars$dist,
             f = 2/3,
             iter = 3),
      col = "red")
*title(main = "the `cars` data")
```
]
 
.panel2-base_r_plotting-auto[
&lt;img src="flipbookr_zurich_summer_school_files/figure-html/base_r_plotting_auto_03_output-1.png" width="504" /&gt;
]

&lt;style&gt;
.panel1-base_r_plotting-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-base_r_plotting-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-base_r_plotting-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;






???
 
It has been a while since I've done much plotting with base R, but I think it is important to have an example or two. 

---







---
class: center, middle, inverse

# .Large[Is it worth it?]


???

We've tried to make creating flipbooks easy for you.  But it is still a bit of extra effort.  So I want to go back to the topic of why it is a good communication tool.


---

# when newcomers see a long pipeline of code ...

--

# No exit next 15 miles...


---
class: bottom
background-image: url(figures/owl.jpeg)
background-size: 95%
background-position: 60% 25%

???

They may feel like this is the message

breaks down the steps with accompanying output, is something that newcomers have a better chance at following.

Even for seasoned practicioner might not be familiar with all the pieces of a pipeline.  

A seasoned user will probably manage to infer what an unfamiliar function or two are doing in a pipeline, but this requires a lot of mental gymnastics and concentration. 

Flipbooks allow people to narrow in on unfamiliar steps, looking what immediately preceeds and immediately follows.  To alleviate this burden. 




---
background-image: url(figures/gymnastics.gif)
background-size: contain 

???



---


# Okay, but what does *flipping* do for us?


--


## Why not infinitely scrolling through steps

&lt;img width="18%" src="figures/hasan_minhaj_infinite_scroll.gif"/&gt;
&lt;img width="18%" src="figures/hasan_minhaj_infinite_scroll.gif"/&gt;
&lt;img width="18%" src="figures/hasan_minhaj_infinite_scroll.gif"/&gt;
&lt;img width="18%" src="figures/hasan_minhaj_infinite_scroll.gif"/&gt;
&lt;img width="18%" src="figures/hasan_minhaj_infinite_scroll.gif"/&gt;

&lt;img width="18%" src="figures/hasan_minhaj_infinite_scroll.gif"/&gt;
&lt;img width="18%" src="figures/hasan_minhaj_infinite_scroll.gif"/&gt;
&lt;img width="18%" src="figures/hasan_minhaj_infinite_scroll.gif"/&gt;
&lt;img width="18%" src="figures/hasan_minhaj_infinite_scroll.gif"/&gt;
&lt;img width="18%" src="figures/hasan_minhaj_infinite_scroll.gif"/&gt;

---
class: middle, center

# i.e. what does *temporal* offset afford that *spatial* offset doesn't?

---
class: bottom
background-image: url(figures/pie_scroll_comparison.gif)
background-size: contain 

---



.large.left[Spatial offset]
--

&lt;br /&gt;

.large.center[requires us to engage in "visual search"]

&lt;br /&gt;

--
.large.left[which requires focused attention and concentration]


---


&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="https://upload.wikimedia.org/wikipedia/commons/0/0a/Spot_the_difference.png" alt="Find ten differences..." width="90%" /&gt;
&lt;p class="caption"&gt;Find ten differences...&lt;/p&gt;
&lt;/div&gt;


???

Lateral comparison is hard; superimposed temporal comparison is easy; Consider the \"spot the differences\" games. Imagine if these images were super imposed.  Flickering back and forth between the two of them, superimposed and aligned, and with changes made incrementally (one-by-one), the challenge would be taken out of the game.

---
background-image: url(figures/waldo_gathering.jpg)
background-size: contain


???

"Visual search" games are fun because they are challenging.  



---

- Visual search relies on visual memory...  Pretty effortful.

---

&lt;img src="analogies_images/visual_memory.png" width="527" /&gt;


---

&lt;img src="analogies_images/john_conenctrate.png" width="640" /&gt;

---


&lt;img src="analogies_images/visual_memory_2.png" width="495" /&gt;


---
class: top
background-image: url(figures/toggle_pie.gif)
background-size: contain
background-position: bottom

# A "Blink Comparator" type experience


???



This contrasts to temporal offset.
You can see how a user might narrow in on unfamiliar bits, and toggling back and forth between the previous state and the new state.  It's a "blink comparator" type experience..



---
background-image: url(figures/zeiss_blink_comparator.jpg)
background-size: contain

# Blink &lt;br&gt; Comparator 


???

Blink Comparator, allowed researcher to toggle between two *superimposed* and *aligned* images, to allow you to and noticing what moved between different time periods -- the photos were of the night sky at different time points through a telescope





---
background-image: url(figures/pluto_in_true_colour_wikipedia.jpg)
background-size: cover




???

Blink Comparator -- is a proven technology -- most famously credited with humankind discovering Pluto decades earlier than we would have otherwise! 





---
background-image: url(figures/pluto_in_true_colour_wikipedia.jpg)
background-size: cover








---
background-image: url(figures/jurassic_park.png)
background-size: contain


???


![](https://media.tenor.com/images/3ec767f25559af0ab8c9808aec130f12/tenor.gif)  



It's easy to notice motion.  Detecting differences via "motion detection" is the experience flipbooks give us.  

- pretty effortless!!!

--

pre-attentively processed

---


![](https://media.tenor.com/images/3ec767f25559af0ab8c9808aec130f12/tenor.gif)

---

# Flipbooks use...

- Education

--
- Reference

--
- Communication

--
- Transparency




---

flipbookr:

![type big!](https://media.giphy.com/media/3mKBXLpYeLzUY/giphy.gif)





![](analogies_images/)&lt;!-- --&gt;

---


---

# Big thanks

Garrick Aden-Buie, Emi Tanaka

---

# Grateful to critical infrastructures authors and contributors:

- xaringan, knitr, rmarkdown
- ggplot2
- magrittr
- remarkjs
- dplyr, tidyr, data.table
- getParseData
- glue
- cowplot


---


# {flipbookr} testers, code review

- RLadies Denver
- Peter DeWitt
- Jim Hester
- Benjamin Wolfe

# #TidyTuesday code volunteers

- Christian Burkhart
- David Carayon
- Ifeoma Egbogah
- Gil Henriques
- Joel Soros

---
class: middle
background-image: url(figures/university_of_denver_shield.svg)
background-position: 5% 5%
background-size: 10%


# New and old Flipbookers' support at University of Denver:

- Ryan Granier
- Matt Gambino
- Conner Surracy
- Suraj Thapa
- Britt Woodrum

---

Influences:

Hadley Wickham, 
Eva Murry, Andy Kriebel, #MakeoverMonday

Matthew Blackwell

Tyler / data.table

Roger Peng/ 

Jim Hester

Yihui Xie






---





r chunk_reveal("heart", break_type = "user")`




---

r chunk_reveal("heart2", break_type = "user")`










&lt;style type="text/css"&gt;
.remark-code{line-height: 1.5; font-size: 70%}
&lt;/style&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="https://platform.twitter.com/widgets.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:10",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
